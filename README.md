## shadcn-nextjs-typed

A tiny toolkit to improve default Next.js typing with copy-paste friendly utilities that are 100% shadcn-compatible. The main focus is upgrading typed routing ergonomics while staying framework-native and DX-first.

### What this gives you
- Strongly-typed routes for both components and navigation APIs
- Drop-in Link wrapper: `TypedLink`
- Typed router hook: `useTypedRouter`
- Auto-generated shadcn-compatible JSON schemas so you can add items via raw URLs or just copy/paste the `.tsx` source

### Compatibility
- Next.js >= 15.5

---

## Prerequisites: Enable typed routes in Next.js

To unlock strict type-safety for routes, enable Next.js typed routes. Add the following to your `next.config.ts`:

```ts
// next.config.ts
export default {
	experimental: {
		typedRoutes: true,
	},
};
```

This repo’s utilities rely on `@/.next/types/routes` (generated by Next.js) to derive the `ParamMap` used by `TypedLink` and `useTypedRouter`.

---

## Use with shad-cn (shadcn-compatible schemas)

Add each item directly via the shadcn CLI using the schema URLs below:

```bash
# Typed Link component
pnpx shadcn@latest add https://raw.githubusercontent.com/diecodev/shadcn-nextjs-typed/main/registry/typed-link.json
```
```bash
# useTypedRouter hook
pnpx shadcn@latest add https://raw.githubusercontent.com/diecodev/shadcn-nextjs-typed/main/registry/use-typed-router.json
```

Browse the source on GitHub:
- [TypedLink component (source)](./components/typed-link.tsx)
- [use-typed-router hook (source)](./hooks/use-typed-router.tsx)

---

## Quick usage examples

### TypedLink
```tsx
// Static route
<TypedLink href="/about" />

// Dynamic route (e.g. /user/[id])
<TypedLink href="/user/[id]" params={{ id: "123" }} />

// Catch-all route (e.g. /blog/[...slug])
<TypedLink href="/blog/[...slug]" params={{ slug: ["2025", "pricing"] }} />
```

### useTypedRouter
```tsx
const router = useTypedRouter();
router.replace("/u/[userId]", {
	params: { userId: "sample-user" },
  // ... default router.replace options
});
```

---

## Contributing / improving the code

Everything is designed to be edited directly and re-generated into shadcn-compatible schemas.

1) Edit any `.tsx` file in `components/` or `hooks/`.
2) Generate schemas:

```bash
pnpm install
pnpm build
```

This runs `src/generate-schemas.ts`, which:
- Reads the `.tsx` sources
- Produces per-item schemas under `registry/*.json`
- Produces an aggregate schema `registry/all-items-schema.json` (helpful for previews/indexing; not used by shadcn directly)

Resulting JSON schemas embed the latest source code so consumers can add via raw URLs or copy/paste.

---

## Demos


---

## Notes
- All packages and artifacts here are shad-cn friendly and copy/paste friendly.
- Compatible with Next.js 15.5 or newer.
- If you use the code in another Next.js app, ensure `experimental.typedRoutes` is enabled and your `tsconfig.json` includes `.next/types/**/*.ts`.
- The `TypedLink` and `useTypedRouter` utilities rely on your project’s real route structure for type safety (derived from Next.js’ generated `ParamMap`).

